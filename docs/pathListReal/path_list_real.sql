-- hive dw.path_list_real
use dw;
drop table path_list_real;
create external table path_list_real (
    -- 入口页
    entrance_page_id int,
    entrance_page_value string,
    entrance_page_lvl2_value string,
    entrance_event_id int,
    entrance_event_value string,
    entrance_event_lvl2_value string,
    entrance_starttime string,
    entrance_loadtime string,
    entrance_testId String,
    entrance_selectId String,
    entrance_pitType String,
    entrance_sortDate String,
    entrance_sortHour String,
    entrance_lplid String,
    entrance_ptplid String,
    entrance_ug_id String,
    -- 二级入口页
    entrance2_page_id int,
    entrance2_page_value string,
    entrance2_page_lvl2_value string,
    entrance2_event_id int,
    entrance2_event_value string,
    entrance2_event_lvl2_value string,
    entrance2_starttime string,
    entrance2_loadtime string,
    entrance2_testId String,
    entrance2_selectId String,
    entrance2_pitType String,
    entrance2_sortDate String,
    entrance2_sortHour String,
    entrance2_lplid String,
    entrance2_ptplid String,
    entrance2_ug_id String,
    -- 导航页
    guide_page_id int,
    guide_page_value string,
    guide_page_lvl2_value string,
    guide_event_id int,
    guide_event_value string,
    guide_event_lvl2_value string,
    guide_starttime string,
    guide_loadtime string,
    guide_testId String,
    guide_selectId String,
    guide_pitType String,
    guide_sortDate String,
    guide_sortHour String,
    guide_lplid String,
    guide_ptplid String,
    guide_ug_id String,
    -- 二级导航
    guide2_page_id int,
    guide2_page_value string,
    guide2_page_lvl2_value string,
    guide2_event_id int,
    guide2_event_value string,
    guide2_event_lvl2_value string,
    guide2_starttime string,
    guide2_loadtime string,
    guide2_testId String,
    guide2_selectId String,
    guide2_pitType String,
    guide2_sortDate String,
    guide2_sortHour String,
    guide2_lplid String,
    guide2_ptplid String,
    guide2_ug_id String,
    -- 前站
    before_goods_page_id int,
    before_goods_page_value string,
    before_goods_page_lvl2_value string,
    before_goods_event_id int,
    before_goods_event_value string,
    before_goods_event_lvl2_value string,
    before_goods_starttime string,
    before_goods_loadtime string,
    before_goods_testId String,
    before_goods_selectId String,
    before_goods_pitType String,
    before_goods_sortDate String,
    before_goods_sortHour String,
    before_goods_lplid String,
    before_goods_ptplid String,
    before_goods_ug_id String,
    gu_id string,
    user_id string,
    utm string,
    gu_create_time string,
    session_id string,
    terminal_id int,
    app_version string,
    site_id int,
    ref_site_id int,
    ctag string,
    location string,
    jpk int,
    ugroup string,
    date_id string,
    hour string,
    page_id int,
    page_value string,
    ref_page_id int,
    ref_page_value string,
    shop_id string,
    ref_shop_id string,
    page_level_id int,
    starttime string,
    endtime string,
    hot_goods_id string,
    page_lvl2_value string,
    ref_page_lvl2_value string,
    pit_type int,
    sortdate string,
    sorthour string,
    lplid string,
    ptplid string,
    gid string,
    table_source string,
    source string,
    ip string,
    url string,
    urlref string,
    deviceid string,
    to_switch string,
    event_id string,
    event_value string,
    event_lvl2_value string,
    rule_id string,
    test_id string,
    select_id string
)
PARTITIONED BY (`date` string, `gu_hash` string)
row format delimited fields terminated by '\t'
lines terminated by '\n';

-- stored as orc tblproperties ("orc.compress"="SNAPPY")

